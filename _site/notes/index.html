<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Computational Social Science for Sustainability – Comp. Soc. Sci. for Sustainability (EBS 181/281)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../Logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-af0121c84ee5bc221945f7e3fe5b8ed8.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Comp. Soc. Sci. for Sustainability (EBS 181/281)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../notes"> 
<span class="menu-text">Course Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../lectures"> 
<span class="menu-text">Lectures</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#a-structure-for-developing-models-of-social-behavior-for-sustainability" id="toc-a-structure-for-developing-models-of-social-behavior-for-sustainability" class="nav-link" data-scroll-target="#a-structure-for-developing-models-of-social-behavior-for-sustainability">A structure for developing models of social behavior for sustainability</a></li>
  <li><a href="#a-primer-on-social-networks" id="toc-a-primer-on-social-networks" class="nav-link" data-scroll-target="#a-primer-on-social-networks">A primer on social networks</a>
  <ul class="collapse">
  <li><a href="#creating-and-measuring-social-networks" id="toc-creating-and-measuring-social-networks" class="nav-link" data-scroll-target="#creating-and-measuring-social-networks">Creating and measuring social networks</a></li>
  <li><a href="#analysis-of-the-medici-family" id="toc-analysis-of-the-medici-family" class="nav-link" data-scroll-target="#analysis-of-the-medici-family">Analysis of the Medici family</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#diffusion-of-adaptations" id="toc-diffusion-of-adaptations" class="nav-link" data-scroll-target="#diffusion-of-adaptations">Diffusion of adaptations</a>
  <ul class="collapse">
  <li><a href="#la-and-lal-compartmental-contagion-models" id="toc-la-and-lal-compartmental-contagion-models" class="nav-link" data-scroll-target="#la-and-lal-compartmental-contagion-models">LA and LAL compartmental “contagion” models</a>
  <ul class="collapse">
  <li><a href="#legacy-adaptive-la-model" id="toc-legacy-adaptive-la-model" class="nav-link" data-scroll-target="#legacy-adaptive-la-model">Legacy-Adaptive (LA) model</a></li>
  <li><a href="#discrete-change-in-recursion-continuous-infinitesimal-change-in-differential-equations" id="toc-discrete-change-in-recursion-continuous-infinitesimal-change-in-differential-equations" class="nav-link" data-scroll-target="#discrete-change-in-recursion-continuous-infinitesimal-change-in-differential-equations">Discrete change in recursion, continuous (infinitesimal) change in differential equations</a></li>
  <li><a href="#legacy-adaptive-legacy-lal-model" id="toc-legacy-adaptive-legacy-lal-model" class="nav-link" data-scroll-target="#legacy-adaptive-legacy-lal-model">Legacy-Adaptive-Legacy (LAL) model</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#agent-based-modeling" id="toc-agent-based-modeling" class="nav-link" data-scroll-target="#agent-based-modeling">Agent-based modeling</a></li>
  <li><a href="#adaptive-social-learning" id="toc-adaptive-social-learning" class="nav-link" data-scroll-target="#adaptive-social-learning">Adaptive social learning</a>
  <ul class="collapse">
  <li><a href="#conformity-biased-learning" id="toc-conformity-biased-learning" class="nav-link" data-scroll-target="#conformity-biased-learning">Conformity-biased learning</a></li>
  <li><a href="#success-biased-learning" id="toc-success-biased-learning" class="nav-link" data-scroll-target="#success-biased-learning">Success-biased learning</a></li>
  </ul></li>
  <li><a href="#cooperation-and-coordination" id="toc-cooperation-and-coordination" class="nav-link" data-scroll-target="#cooperation-and-coordination">Cooperation and coordination</a></li>
  <li><a href="#opinion-dynamics" id="toc-opinion-dynamics" class="nav-link" data-scroll-target="#opinion-dynamics">Opinion dynamics</a>
  <ul class="collapse">
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Computational Social Science for Sustainability</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level1 page-columns page-full">
<h1>Introduction</h1>
<p>Sustainability will only be achieved if people and institutions behave sustainably. This course teaches techniques for predicting the spread of sustainable behaviors, in human social networks. Sustainability, and other pressing issues, needs a rigorous theory of how sustainable behavior spreads. This is apparent since there has been scant real progress towards limiting biodiversity loss, inequality, global warming, and other sustainability targets such as the <a href="https://sdgs.un.org/goals">UN Sustainable Development Goals</a>. This suggests people, institutions, or organizations continue to behave unsustainably, and begs the question: what will it take to get sustainable behaviors to become widely practiced in different societies? Behaviors are transmitted from person to person through social learning, be it through instruction or observation. Who learns from or observes whom is structured based on who we know, who we live near, who we work with, or whose messages we read on the internet.</p>
<p>In this course we want to build on progress towards an empirically-motivated system for decisionmaking when promoting sustainable behavior, like Elinor Ostrom’s socio-ecological systems framework <span class="citation" data-cites="Ostrom1990">(<a href="#ref-Ostrom1990" role="doc-biblioref"><strong>Ostrom1990?</strong></a>)</span> that identified the following <em>design principles</em>. These principles are written below as re-formulated by <span class="citation" data-cites="Cox2010">Cox, Arnold, and Tomás (<a href="#ref-Cox2010" role="doc-biblioref">2010</a>)</span> who evaluated their effectiveness after two more decades of use:</p>
<ol type="1">
<li>Well-defined boundaries</li>
<li>Congruence between appropriation and provision rules and local conditions</li>
<li>Fair, flexible collective-choice arrangements</li>
<li>Monitoring and monitors must be reliable and inclusive of local communities</li>
<li>Graduated sanctions: penalties for non-compliance with sustainable practices should start small and increase with further non-compliance</li>
<li>Access to responsive, low-cost conflict-resolution mechanisms</li>
<li>Minimum recognition of rights of all stakeholders to recognize local ownership of local common-pool resources</li>
<li>Successful common-pool resource management requires nested institutions so those lower in the hierarchy can achieve power parity with those higher by having greater numbers of decision-makers in those foundational decision making groups</li>
</ol>
<p>These design principles were inferred and developed by reviewing numerous policy and economic interventions to promote sustainable use of common-pool resources in specific <em>socio-economic systems</em>, both before 1990 and up to 2010 with the update from <span class="citation" data-cites="Cox2010">Cox, Arnold, and Tomás (<a href="#ref-Cox2010" role="doc-biblioref">2010</a>)</span>. Among other notable achievements, the design principles helped elevate indigenous and traditional sustainable ecosystem management practices <span class="citation" data-cites="Nalau2018">(<a href="#ref-Nalau2018" role="doc-biblioref">Nalau et al. 2018</a>)</span>, and community-led adaptation more generally <span class="citation" data-cites="McNamara2020">(<a href="#ref-McNamara2020" role="doc-biblioref">McNamara et al. 2020</a>)</span>. For example, vibrant coastal mangrove forests have long been known to support fish populations and protect against storm surges <span class="citation" data-cites="Pearson2020">(<a href="#ref-Pearson2020" role="doc-biblioref">Pearson, McNamara, and Nunn 2020</a>)</span>. To complement these design principles, and other lessons from sustainability practitioners, we want to develop simplified mechanistic models of human sustainability behavior change to identify rigorous principles of information transmission, cooperation, and political organization.</p>
<section id="a-structure-for-developing-models-of-social-behavior-for-sustainability" class="level2">
<h2 class="anchored" data-anchor-id="a-structure-for-developing-models-of-social-behavior-for-sustainability">A structure for developing models of social behavior for sustainability</h2>
<p>In this course we learn In the coming sections we develop several different models of social behavior for this purpose. The models are always a more specific version of some more general or abstract model. A <em>model</em> here is a simplified representation of the world that we can use for science and decision making. One motivation for this course, in fact, is to provide a more scientific way of thinking about social responses to sustainable policy and other interventions, whether or not that thinking is aided by computational, formal, or other modeling. We start from a very abstract model with few details specified so we can identify common elements of social science models and consolidate our theoretical knowledge (<a href="#fig-abstract-social-model" class="quarto-xref">Figure&nbsp;1</a>). This is practically useful for model development and analysis since we can theoretically compartmentalize the behavioral and social assumptions being made in the model. We know where to change assumptions to generate new intervention strategies and generate new scientific hypotheses about social behavior.</p>
<div id="fig-abstract-social-model" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-abstract-social-model-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3019031596.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-abstract-social-model-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: The abstract social behavior model used in this course. All models we analyze here are instances of this framework created by specifying how each block works.
</figcaption>
</figure>
</div>
<div id="note-abstract-model-description" class="callout callout-style-default callout-note callout-titled" title="Abstract model workflow description.">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Abstract model workflow description.
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li>Create a population represented as <span class="math inline">\(N\)</span> nodes in a social network.</li>
<li>At each time step, imagine that each individual in a population “selects” or is otherwise paired with another individual, their <em>interaction partner</em>. Each individual may also take independent action. For example, the Legacy-Adaptive model of the diffusion of adaptations in the next section specifies that when one person doing a Legacy behavior observes another doing the Adaptive behavior, the one doing Legacy will switch to Adaptive with probability <span class="math inline">\(\alpha\)</span>. Over the duration of the course, we will consider interactions that consist of learning/adopting behaviors, deciding whether to cooperate with others for collective adaptation, and influencing opinions.</li>
<li>This process is repeated over many time steps where each individual does something or interacts with another individual.</li>
<li>The conditions for stopping the model, the <em>stopping conditions</em>, must be specified. The simplest stopping condition is to run a simulation for a certain number of time steps. Other options include stopping when the population reaches some form of equilibrium, for example, the number of people doing an adaptive behavior stays relatively constant over several time steps.</li>
<li>We observe how certain <em>outcome variables</em> of interest, such as how many people adopt some behavior over time or how long it takes for some fraction of people to adopt an adaptive behavior.</li>
<li>In full analyses of these models, we analyze these outcome variables across different hypothetical contexts, such as changing how “viral” (i.e.&nbsp;how likely to be adopted) adaptive behaviors are.</li>
</ol>
</div>
</div>
</div>
<p>To use this abstract social model, proceed box by box and decide how the different parts work. To begin, decide what assumptions to make about social network structure, whether there are payoffs, how payoffs may change over time due to environmental shifts, etc. Then one must specify how individuals are paired together to interact, which in the real world could be highly random or constrained by one’s social network. Then all paired individuals interact according to some interaction rule. In the Legacy-Adaptive model introduced below, for example, individuals adopt an adaptive behavior with a certain probability if they are exposed to it.</p>
<p>Developing new models of social behavior, then, amounts to specifying social structure, how people get paired up and interact, and how people decide to update their behavior. The first more specific class of social models we introduce assume that there is an adaptive behavior that can be learned when it is observed, with some probability. These are <em>diffusion of adaptation</em> models. Next, <em>cooperation and coordination</em> models. We close with <em>opinion dynamics models</em>.</p>
<p>Within diffusion of adaptation models, we will start with formal models that can give us functions for diffusion that we can easily write down and visually inspect. The cost of this exactness are unrealistic assumptions, including that population sizes approach infinity and partner choice is unconstrained. We will then show why <em>stochastic</em> (i.e., <em>randomized</em>) computational models are essential to sufficiently represent the aleatoric dance of social behavior in order to understand how social outcomes may vary due to chance events, which in general is sensitive to initial conditions. We will continue on to consider more adaptive forms of social learning that blind copying of a neighbor. Then we will analyze models of the cultural evolution of cooperation and coordination, focused on the case of sustainable management of common-pool resources such as groundwater, forests, or fisheries. Finally in this course we will study <em>opinion dynamics</em> models where interactions take the form of persuasion, though we will abstract away nearly all features of rhetoric and focus only on how the opinions of interaction partners affect changes in each partner’s opinions or beliefs.</p>
</section>
<section id="a-primer-on-social-networks" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="a-primer-on-social-networks">A primer on social networks</h2>
<p>Social networks are at once intuitive, perhaps partly due to their prominence in pop culture, and also technically complex and theoretically deep. Social networks have <em>nodes</em> (aka <em>vertices</em>) that represent people, usually drawn as circles but any shape is ok. Relationships between people are represented by <em>edges</em>, drawn as lines. If the lines have arrowheads, the arrow will point in the direction of information flow, for example from a teacher to her student. If there is no arrow, or two arrows pointing different directions, this indicates a symmetric relationship where information could flow in either direction.</p>
<p>We need to know some basic things about social networks because all models make assumptions about them. First, a social network is a theoretical tool, a “cognitive gadget” , that represents relationships between people. Social networks are instances of graphs, an abstract mathematical structure for representing any type of entities and relationships between them. Graph <em>nodes</em> (aka <em>vertices</em>) represent the entities and <em>edges</em> represent the relationships between nodes. Edges are drawn as lines with or without arrows to indicate the flow of information, with information flowing to a <em>learner</em>, or <em>observer</em> more generally, from a <em>teacher</em> or <em>demonstrator</em> (Figure <a href="#fig-teacher-learner-infoflow" class="quarto-xref">Figure&nbsp;2</a>). Lines with arrows are called <em>directed</em> edges. For a given pair of individuals, each may sometimes be teacher or learner. This case may be represented by two directed edges pointing opposite directions or a single <em>undirected</em> edge, i.e., a line with no arrowheads (Figure <a href="#fig-teacher-learner-bidirectional" class="quarto-xref">Figure&nbsp;3</a>).</p>
<div class="cell page-columns page-full">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<div id="fig-teacher-learner-infoflow" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-teacher-learner-infoflow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-teacher-learner-infoflow-1.png" class="img-fluid figure-img" width="494">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-teacher-learner-infoflow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Social networks represent relationships between people, with the arrow pointing away from the teacher and at the learner, i.e., in the direction of information flow.
</figcaption>
</figure>
</div>
</div></div></div>
<div class="cell page-columns page-full" data-layout-align="center">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="494"></p>
</figure>
</div>
</div></div></div>
<div class="cell page-columns page-full">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<div id="fig-teacher-learner-bidirectional" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-teacher-learner-bidirectional-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-teacher-learner-bidirectional-1.png" class="img-fluid figure-img" width="494">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-teacher-learner-bidirectional-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: If there are two arrows, one pointing at each individual, or a line with no arrowheads, then each member of the dyad may be either teacher or learner.
</figcaption>
</figure>
</div>
</div></div></div>
<section id="creating-and-measuring-social-networks" class="level3">
<h3 class="anchored" data-anchor-id="creating-and-measuring-social-networks">Creating and measuring social networks</h3>
<p>To start, consider the following fictional advice network at a startup, Sustainability Intervention Solutions. There are only three team members right now with different roles. Esmeralda, the CEO, advises River and Brook. Esmeralda and Brook left their previous jobs at Hooli to start the company, so Brook also advises Esmeralda. River is the newest member of the team, an expert programmer with little business or sustainability experience, so Esmeralda mentors River. Brook is knowledgable about business and sustainability, but just learning to program, so River is helping Brook develop her skills. We can use a social network to represent this social structure where arrows point from Esmeralda to River and Brook; from River to Brook; and from Brook to Esmeralda.</p>
<div class="cell" data-fig-caption="Example social network at Esmeralda and Brook's startup with new hire River.">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>socnet <span class="ot">&lt;-</span> <span class="fu">make_graph</span>(<span class="sc">~</span> Esmeralda<span class="sc">-+</span>River<span class="sc">-+</span>Brook<span class="sc">++</span>Esmeralda)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(socnet, <span class="at">layout =</span> <span class="fu">layout_in_circle</span>(socnet), <span class="at">edge.curved=</span><span class="fl">0.4</span>, <span class="at">vertex.size =</span> <span class="dv">90</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-social-triangle-example" class="quarto-float quarto-figure quarto-figure-center anchored" width="672">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-social-triangle-example-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-social-triangle-example-1.png" id="fig-social-triangle-example" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-social-triangle-example-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4
</figcaption>
</figure>
</div>
</div>
</div>
<p>After a year the team have succeeded hiring clients and need another programmer to build an interface to deliver their custom relational databases on corporate sustainability decisions in response to different legislation at the national, state, and local levels. They hire Arun who has some programming expertise and experience in sustainability because he took Matt Turner’s Computational Social Science for Sustainability at Stanford. Still, he has a lot to learn and needs River’s and Esmeralda’s advice.</p>
<p>After a while it is clear they need a computational scientist. They hire Marco, who reports directly to River, whom he asks for help learning about sustainability. Arun asks for programming help from Marco as does Brook. Marco gets input from River and Esmeralda on programming and sustainability.</p>
<div class="cell" data-fig-caption="Example social network at Esmeralda and Brook's startup with new hire River.">
<div class="cell-output-display">
<div id="fig-social-pentagon-example" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-social-pentagon-example-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-social-pentagon-example-1.png" id="fig-social-pentagon-example" class="img-fluid figure-img" width="576">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-social-pentagon-example-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5
</figcaption>
</figure>
</div>
</div>
</div>
<section id="regular-networks" class="level4">
<h4 class="anchored" data-anchor-id="regular-networks">Regular networks</h4>
<p><em>Regular</em> networks are those ones for which all nodes have the same degree. A regular lattice with degree <span class="math inline">\(k\)</span> is useful for constructing networks with the small-world property. We can use code from the <code>socmod.R</code> script in the root directory of the CSS4S-ProblemSets repo to create one with ten nodes, each connected to two neighbors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/workspace/CSS4S-ProblemSets/socmod.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'assertthat'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:tibble':

    has_name</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>latnet <span class="ot">&lt;-</span> <span class="fu">regular_lattice</span>(<span class="dv">10</span>, <span class="dv">2</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(latnet, <span class="at">layout=</span><span class="fu">layout_in_circle</span>(latnet), <span class="at">vertex.size=</span><span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>And here is one more example, but with 20 nodes connected to six neighbors each:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/workspace/CSS4S-ProblemSets/socmod.R"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>latnet <span class="ot">&lt;-</span> <span class="fu">regular_lattice</span>(<span class="dv">20</span>, <span class="dv">6</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(latnet, <span class="at">layout=</span><span class="fu">layout_in_circle</span>(latnet), <span class="at">vertex.size=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<!-- #### Random networks -->
<!-- ##### Erdős-Rényi random networks: $G(N,M)$ and $G(N, p)$ -->
<!-- ##### Randomization of regular networks to achieve the small-world property -->
</section>
</section>
<section id="analysis-of-the-medici-family" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="analysis-of-the-medici-family">Analysis of the Medici family</h3>
<p>In social networks, the entities are people and the relationships could be friendships, business partnerships, or, in the case of our first social network example, marriages between powerful families in Florence during the 1400s that elevated the the Medici clan developing into what was essentially one of the world’s first political parties. This follows Jackson’s introductory example in his textbook starting on p.&nbsp;4 <span class="citation" data-cites="Jackson2008">(<a href="#ref-Jackson2008" role="doc-biblioref">Jackson 2008</a>)</span>. Studying the Medici’s social network gives us our first look at the structure of social influence. During that period, the Medici family rose in wealth and political power over the lifetime of the family patriarch, Cosimo. Starting from a relatively weak position overall in the Florentine oligarchy of the time, Cosimo arranged marriages with other powerful families to subtly amplify the Medici control of politics and markets in Florence (Figure <a href="#fig-florentine-network" class="quarto-xref">Figure&nbsp;6</a>; source: <a href="https://cran.r-project.org/web/packages/netrankr/vignettes/use_case.html" class="uri">https://cran.r-project.org/web/packages/netrankr/vignettes/use_case.html</a>). In the Florentine network, the edges are undirected, which makes sense since marriage takes two families and is therefore not directed. Note then we have no knowledge from which family came husband and wife. Note too that there could be multiple marriages between two families, but this information is not contained in this graph.</p>
<p>In an undirected graph, the neighborhood of an individual <span class="math inline">\(i\)</span> (or family, organization, institution, or other social entity) can be written <span class="math inline">\(n_i\)</span> and is a set of all the individuals who share an edge with <span class="math inline">\(i\)</span>. The set of the Medici’s network neighbors then is written mathematically as</p>
<p><span class="math display">\[
n_{\text{Medici}} = \{\text{Salviati},~\text{Acciaiuol},~\text{Barbadori},~\text{Ridolfi},~\text{Tornabuon},~\text{Albizzi}\}
\]</span> The degree of node <span class="math inline">\(i\)</span> is the number of neighbors it has, written <span class="math inline">\(k_i\)</span>, so <span class="math inline">\(k_\text{Medici} = 6\)</span>. In the case of directed networks it is common to define in- and out-neighborhoods, referring to arrow direction, which for us correspond to teacher- and learner-neighborhoods.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"florentine_m"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete Pucci family (isolated)</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>florentine_m <span class="ot">&lt;-</span> <span class="fu">delete_vertices</span>(florentine_m, <span class="fu">which</span>(<span class="fu">degree</span>(florentine_m) <span class="sc">==</span> <span class="dv">0</span>))</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the graph</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">111</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(florentine_m,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label.cex =</span> <span class="dv">1</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.size =</span> <span class="dv">20</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.color =</span> NODE_COLOR,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.frame.color =</span> NODE_COLOR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-florentine-network" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-florentine-network-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-florentine-network-1.png" class="img-fluid figure-img" width="480">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-florentine-network-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Florentine marriage network where edges represent marriages between families (node labels).
</figcaption>
</figure>
</div>
</div>
</div>
<p>We can make a bar plot of the degrees for each family:</p>
<div class="cell page-columns page-full" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>deglist <span class="ot">&lt;-</span> <span class="fu">degree</span>(florentine_m) </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a tbl of degrees for each family then barplot using ggplot2.</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">Family=</span><span class="fu">names</span>(deglist), <span class="at">k=</span><span class="fu">as.vector</span>(deglist)) <span class="sc">%&gt;%</span>     </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Family=</span><span class="fu">fct_reorder</span>(<span class="fu">as_factor</span>(Family), k)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>k, <span class="at">y=</span>Family)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>, <span class="at">fill=</span>NETWORK_COLOR) <span class="sc">+</span>   </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">18</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<div id="fig-florence-degrees" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-florence-degrees-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-florence-degrees-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="384">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-florence-degrees-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Degree of each family in Florence intermarriage network.
</figcaption>
</figure>
</div>
</div></div></div>
<p>The <em>degree distribution</em> is the fraction of nodes having degree <span class="math inline">\(k\)</span>, written <span class="math inline">\(P(k)\)</span>. Since the Medici family is the only one with a degree of six, and there are fifteen families, <span class="math inline">\(P(6)=\frac{1}{15}\approx 0.066\)</span>, which we can check like so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>degdist <span class="ot">&lt;-</span> <span class="fu">degree_distribution</span>(florentine_m)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>medici_k <span class="ot">&lt;-</span> <span class="dv">6</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Degree distribution starts at 0 and goes to maximum k; index 1, then</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># correlates to k=0 and need to add 1 to the Medici index.</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>degdist[[medici_k <span class="sc">+</span> <span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.06666667</code></pre>
</div>
</div>
<p>We plot the degree distribution see that the modal <span class="math inline">\(k\)</span> is 3 and that the distribution is somewhat more concentrated in <span class="math inline">\(k\leq3\)</span> compared to <span class="math inline">\(k &gt; 3\)</span>, using the built-in <code>barplot</code> function to plot a simple histogram of <span class="math inline">\(P(k)\)</span> using base R:</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>degdist_vec <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(degdist)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>k_vec <span class="ot">&lt;-</span> <span class="fu">as_factor</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">tibble</span>(<span class="at">k =</span> k_vec, <span class="at">freq =</span> degdist_vec), <span class="fu">aes</span>(<span class="at">x=</span>k_vec, <span class="at">y=</span>degdist_vec)) <span class="sc">+</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>, <span class="at">fill=</span>NETWORK_COLOR) <span class="sc">+</span> <span class="fu">xlab</span>(<span class="st">"Degree, k"</span>) <span class="sc">+</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Frequency, P(k)"</span>) <span class="sc">+</span> <span class="fu">theme_classic</span>(<span class="at">base_size=</span><span class="dv">22</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<div id="fig-medici-degree-dist" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-medici-degree-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-medici-degree-dist-1.png" class="img-fluid figure-img" width="480">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-medici-degree-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Degree distribution shows how frequently nodes (families here) have <span class="math inline">\(k\)</span> edges (marriages).
</figcaption>
</figure>
</div>
</div></div></div>
<section id="other-resources" class="level4">
<h4 class="anchored" data-anchor-id="other-resources">Other resources</h4>
<p>I found one tutorial to follow up on while preparing this, so I created this place to put this tutorial and other resources that may be useful later on.</p>
<ul>
<li><a href="https://schochastics.github.io/netVizR/#another-full-example">Network Visualizations in R using ggpraph and graphlayouts</a> by <a href="https://mr.schochastics.net/">David Schoch</a>.</li>
</ul>
</section>
</section>
</section>
</section>
<section id="diffusion-of-adaptations" class="level1 page-columns page-full">
<h1>Diffusion of adaptations</h1>
<p>Adaptations <em>diffuse</em> through communication or observation from person to person when two things happen. First, a person not doing some adaptive behavior (driving an electric vehicle, using heat pumps in their home for heating and cooling, switching to no-till farming methods, etc.) encounters someone who knows or does an adaptive behavior. Second, the person not doing the adaptive behavior must successfully acquire the knowledge and desire necessary to start doing the behavior themselves. In this section we introduce four models of this process.</p>
<p>The first two assume that an adaptive behavior is randomly adopted by someone performing a legacy behavior with probability <span class="math inline">\(\alpha\)</span>, the adoption rate. One of these assumes that anyone doing the adaptive behavior will continue doing it forever, the <em>Legacy-Adaptive</em> model (Figure <a href="#fig-LA-state" class="quarto-xref">Figure&nbsp;9</a>). The next adds one more assumption, that people can stop doing a behavior, i.e., they can randomly _drop_the behavior, which happens for anyone doing <span class="math inline">\(A\)</span> with probability <span class="math inline">\(\delta\)</span> (Figure <a href="#fig-LAL-state" class="quarto-xref">Figure&nbsp;10</a>).</p>
<p>The second two assume that learning is partly probabilistic and partly <em>adaptive</em>, where individuals can do some computation about who or what behavior may be best to learn. These are <em>social learning</em> models of transmission. The first of these is a <em>conformist-biased learning</em> model, where individuals are assumed to be more likely to learn a behavior if more people are doing it. The second is a <em>success-biased learning</em> model, where individuals are more likely to learn from individuals if an individual is doing relatively well compared to other neighbors. Success-biased learning is the only one of these where the benefit of doing a behavior matters, since there must be a way to acquire “payoffs”, which is a modeling term of art representing amount of benefit, usually in unspecified units.</p>
<section id="la-and-lal-compartmental-contagion-models" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="la-and-lal-compartmental-contagion-models">LA and LAL compartmental “contagion” models</h2>
<p>Contagion models like the LA and LAL models assume that when individuals encounter one another there is some probability that some individual-level attribute, in this case whether the individual <span class="math inline">\(i\)</span> does <span class="math inline">\(A\)</span>. These models require relatively few parameters and variables, but ignore adaptive strategies people use for acquiring new information (<a href="#tbl-LA-LAL-parameters" class="quarto-xref">Table&nbsp;1</a>).</p>
<p>Namely, these model contain two dynamic <em>outcome variables</em> <span class="math inline">\(L_t\)</span> and <span class="math inline">\(A_t\)</span> if time is discrete (<span class="math inline">\(L(T)\)</span> and <span class="math inline">\(A(t)\)</span> if time is continuous; see <a href="#nte-continuous-LA" class="quarto-xref">Note&nbsp;1</a>) the number of individuals performing <span class="math inline">\(L\)</span> and the number performing <span class="math inline">\(A\)</span>. These outcomes are dynamic, so <span class="math inline">\(t\)</span> represents time, which is discrete in our main treatment of these models, meaning that points in time can be indexed by integers, i.e., time steps are indexed by <span class="math inline">\(t_i\)</span> where <span class="math inline">\(i \in \{1, 2, 3,\ldots\}\)</span>, e.g., <span class="math inline">\(t \in \{0, 3, 6, 9, 12, 15, \ldots\}\)</span> could be discrete time steps for a model with <span class="math inline">\(t\)</span> in months meant to represent some process for which we have data every three months. If time is continuous then <span class="math inline">\(t\in[0,\infty)\)</span>. Although time can continue on to infinity, we usually specify that models will stop at some time step or when some condition is met. One of the most important conditions is whether the population has <em>fixated</em>, meaning all agents do the same behavior. Finally, there are two parameters that determine the probability that individuals change their behavioral state (from doing <span class="math inline">\(L\)</span> to doing <span class="math inline">\(A\)</span> or vice-versa). In both the LA and LAL models, the probability <span class="math inline">\(A\)</span> is adopted when an <span class="math inline">\(L\)</span> meets an <span class="math inline">\(A\)</span> is the adoption rate, <span class="math inline">\(\alpha\)</span>. In the LAL model, at every time step, every agent doing <span class="math inline">\(A\)</span> might drop the behavior, i.e., stop doing the behavior, reverting to do <span class="math inline">\(L\)</span> for the next time step. The probability one doing <span class="math inline">\(A\)</span> reverts to <span class="math inline">\(L\)</span> is <span class="math inline">\(\delta\)</span>, the <em>drop rate</em>. So, the LA and LAL models are in fact the same model where we can set <span class="math inline">\(\delta = 0\)</span> to recover the LA model from the LAL model.</p>
<div id="tbl-LA-LAL-parameters" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-LA-LAL-parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: LA and LAL model parameter and variable symbols and definitions.
</figcaption>
<div aria-describedby="tbl-LA-LAL-parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 47%">
<col style="width: 26%">
</colgroup>
<thead>
<tr class="header">
<th>Symbol</th>
<th>Description</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(L,L_t,L(t)\)</span></td>
<td>Number of individuals doing <strong>L</strong>egacy behavior at time <span class="math inline">\(t\)</span>; like <span class="math inline">\(A\)</span> serves as a noun for the behavior itself.</td>
<td><span class="math inline">\(L_t \in \{0,\ldots,N\}\)</span>; <span class="math inline">\(L(t) \in [0, \infty)\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(A,A_t,A(t)\)</span></td>
<td>Number of individuals doing <strong>A</strong>daptive behavior at time <span class="math inline">\(t\)</span>, but used interchangeably for the behavior itself, e.g., “an individual doing <span class="math inline">\(A\)</span>”.</td>
<td><span class="math inline">\(A_t \in \{0,\ldots,N\}\)</span>, <span class="math inline">\(A(t) \in [0, \infty)\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(t\)</span></td>
<td>Time, which could be discrete or continuous. We write <span class="math inline">\(A\)</span> and <span class="math inline">\(L\)</span> as a function of time, i.e., <span class="math inline">\(A_t\)</span> if <span class="math inline">\(t\)</span> is discrete or <span class="math inline">\(A(t)\)</span> if continuous</td>
<td><span class="math inline">\(\{0,1,\ldots\}\)</span> or <span class="math inline">\([0,\infty)\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\alpha\)</span></td>
<td>Adoption rate, i.e., the probability that an individual doing <span class="math inline">\(L\)</span> adopts <span class="math inline">\(A\)</span> if their interaction partner is doing <span class="math inline">\(A\)</span>.</td>
<td><span class="math inline">\([0, 1]\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\delta\)</span></td>
<td>Drop rate, i.e., the probability that an individual doing <span class="math inline">\(A\)</span> stops doing <span class="math inline">\(A\)</span> at time <span class="math inline">\(t\)</span></td>
<td><span class="math inline">\([0, 1]\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(T\)</span></td>
<td><em>Fixation</em> or <em>stopping</em> time. If the modeler specifies the model should stop when all individuals perform the same behavior, it is the fixation time. If the modeler specifies a certain number of steps for the model or there is some condition that causes the model to stop before fixation, it is the stopping time.</td>
<td><span class="math inline">\(\{0,1,\ldots\}\)</span> or <span class="math inline">\([0,\infty)\)</span></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><img src="images/clipboard-2993810530.png" class="img-fluid"></p>
<section id="legacy-adaptive-la-model" class="level3">
<h3 class="anchored" data-anchor-id="legacy-adaptive-la-model">Legacy-Adaptive (LA) model</h3>
<p>In class we derived the recursion for the legacy-adaptive model: <span class="math display">\[
A_{t+1} = A_{t} + \alpha A_t\left(1 - \frac{A_t}{N}\right).
\]</span> Once an individual adopts the adaptive behavior in this model, they continue doing that behavior forever (<a href="#fig-LA-state" class="quarto-xref">Figure&nbsp;9</a>). Below we show how to write a function to implement this recursion to calculate a time series and compare the results for two different adoption rates, <span class="math inline">\(\alpha\)</span>.</p>
<div id="fig-LA-state" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-LA-state-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/LA.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="441">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-LA-state-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: The Legacy-Adaptive model only allows for a change of individual-level state from performing the legacy behavior to performing the adaptive behavior.
</figcaption>
</figure>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>la_recursion <span class="ot">&lt;-</span> <span class="cf">function</span>(N, A0, alpha, tmax) {</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  A_return <span class="ot">&lt;-</span> <span class="fu">numeric</span>(N<span class="sc">+</span><span class="dv">1</span>)  <span class="co"># Create output time series vector.</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set current A_t to be A_0</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  At <span class="ot">&lt;-</span> A0</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  A_return[<span class="dv">1</span>] <span class="ot">&lt;-</span> At</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Iterate </span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (t <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>tmax) {</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Anext is code for A_{t+1}</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    Anext <span class="ot">&lt;-</span> At <span class="sc">+</span> (alpha <span class="sc">*</span> At <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> (At<span class="sc">/</span>N)))</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    A_return[t<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> Anext</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    At <span class="ot">&lt;-</span> Anext</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (A_return)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>N <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>A0 <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>alpha_low <span class="ot">&lt;-</span> <span class="fl">0.05</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>tmax <span class="ot">&lt;-</span> <span class="dv">200</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>tvec <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span>tmax</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>Avec_low_alpha <span class="ot">&lt;-</span> <span class="fu">la_recursion</span>(N, A0, alpha_low, tmax)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>alpha_high <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>Avec_high_alpha <span class="ot">&lt;-</span> <span class="fu">la_recursion</span>(N, A0, alpha_high, tmax)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>adopt_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">timestep =</span> <span class="fu">rep</span>(tvec, <span class="dv">2</span>), </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>                    <span class="at">alpha =</span> </span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as_factor</span>(<span class="fu">c</span>(<span class="fu">rep</span>(alpha_low, <span class="fu">length</span>(tvec)), </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">rep</span>(alpha_high, <span class="fu">length</span>(tvec)))),</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>                    <span class="at">A =</span> <span class="fu">c</span>(Avec_low_alpha, Avec_high_alpha))</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(adopt_tbl, <span class="fu">aes</span>(<span class="at">x=</span>timestep, <span class="at">y=</span>A, <span class="at">color=</span>alpha)) <span class="sc">+</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="discrete-change-in-recursion-continuous-infinitesimal-change-in-differential-equations" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="discrete-change-in-recursion-continuous-infinitesimal-change-in-differential-equations">Discrete change in recursion, continuous (infinitesimal) change in differential equations</h3>
<p>In the recursion LA model, the change in <span class="math inline">\(A\)</span>, <span class="math inline">\(\Delta A\)</span> from time step <span class="math inline">\(t\)</span> to time step <span class="math inline">\(t+1\)</span> is <span id="eq-delta-A"><span class="math display">\[
\Delta A = A_{t+1} - A_t = \alpha N \Pr(L,A)
\tag{1}\]</span></span> where <span class="math inline">\(\Pr(L,A) = \frac{L}{N}\frac{A}{N}\)</span> is the probability an individual doing <span class="math inline">\(L\)</span> and another doing <span class="math inline">\(A\)</span> interact under the <em>well-mixed</em> assumption.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><span class="math inline">\(\cdot\quad\)</span> The <em>well-mixed</em> assumption says that everyone in a population is equally likely to interact with one another. This means the probability of someone doing <span class="math inline">\(L\)</span> encountering someone else doing <span class="math inline">\(A\)</span> is the same for all people doing <span class="math inline">\(L\)</span> (or vice-versa).</p>
</div></div><p>Plug this probability in to <a href="#eq-delta-A" class="quarto-xref">Equation&nbsp;1</a> and cancel an <span class="math inline">\(N\)</span> on top and bottom to get <span id="eq-delta-A-likeODE"><span class="math display">\[
\Delta A = \frac{\alpha}{N} L A = \alpha' L A,
\tag{2}\]</span></span> where <span class="math inline">\(\alpha' = \alpha / N\)</span>. Because we use <span class="math inline">\(t\)</span> to label time steps and assumed that time steps are separated by <span class="math inline">\(\Delta t = 1\)</span>, we can multiply the right side of <a href="#eq-delta-A-likeODE" class="quarto-xref">Equation&nbsp;2</a> by 1 in the form of <span class="math inline">\(\Delta t\)</span>: <span id="eq-delta-A-preODE"><span class="math display">\[
\Delta A = \alpha' LA \Delta t
\tag{3}\]</span></span></p>

<div class="no-row-height column-margin column-container"><div class="">
<p><span class="math inline">\(\cdot\quad\)</span>The general probability that a person doing behavior <span class="math inline">\(b\)</span> interacts with a person doing <span class="math inline">\(b'\)</span> (read “b prime”) <span class="math inline">\(\Pr(b,b')\)</span>, i.e.&nbsp;<span class="math inline">\(\Pr(L,A)\)</span> for legacy-adaptive, <span class="math inline">\(\Pr(L, L)\)</span> for legacy-legacy, etc.</p>
</div></div><p>Calculus, the foundation of differential equations, is the mathematics of rates of change, which was achieved through the following conceptual leap. In terms of our LA model, calculus works by assuming that <span class="math inline">\(\Delta t\)</span> becomes “infinitesimally small”, written <span class="math inline">\(\Delta t \to 0\)</span>. Before <span class="math inline">\(\Delta t\)</span> gets all the way to zero, we calculate <span class="math inline">\(\Delta A\)</span> over this infinitesimally small <span class="math inline">\(\Delta t\)</span>. This infinitesimal <span class="math inline">\(\Delta t\)</span> is written <span class="math inline">\(dt\)</span>, and the similarly infinitesimal <span class="math inline">\(\Delta A\)</span> is written <span class="math inline">\(dA\)</span>. When <span class="math inline">\(\Delta \to 0\)</span>, then, we replace <span class="math inline">\(\Delta\)</span> with <span class="math inline">\(d\)</span> and <a href="#eq-delta-A-preODE" class="quarto-xref">Equation&nbsp;3</a> becomes <span class="math display">\[
dA = \alpha' L A dt
\]</span> which is more commonly written <span id="eq-dAdt"><span class="math display">\[
\frac{dA}{dt} = \alpha' L A dt
\tag{4}\]</span></span> representing the flow in of people previously doing <span class="math inline">\(L\)</span>, with the coupled differential equation for <span class="math inline">\(L\)</span> differing only in sign of the right hand side, representing the flow of people away from doing <span class="math inline">\(L\)</span>: <span class="math display">\[
\frac{dL}{dt} = - \alpha' L A dt.
\]</span></p>
<p>These equations can be solved by using the same substitution we used in the recursion to get a formula for <span class="math inline">\(A_{t+1}\)</span> that depended only on <span class="math inline">\(A_t\)</span>, namely that <span class="math inline">\(L = N - A\)</span>, so <a href="#eq-dAdt" class="quarto-xref">Equation&nbsp;4</a> becomes</p>
<p><span id="eq-dAdt-noL"><span class="math display">\[
\frac{dA}{dt} = \alpha' A(N - A).
\tag{5}\]</span></span></p>
<p>Calculus tells us that we can rearrange the differnetials like they were any other variable. What we want now is to arrange all <span class="math inline">\(A\)</span> terms to one side of the equation, and all <span class="math inline">\(t\)</span> terms to the other because this allows us to <em>integrate</em> the equation. We want to integrate the equation because this is the calculus procedure that converts rates of change of a variable to the accumulation of that variable. Rearranage <a href="#eq-dAdt-noL" class="quarto-xref">Equation&nbsp;5</a> to get</p>
<p><span class="math display">\[
\frac{dA}{A(N - A)} = \alpha' dt.
\]</span></p>
<p>We integrate both sides of this equation, which is written</p>
<p><span id="eq-dA-integration"><span class="math display">\[
\int \frac{dA}{A(N - A)} = \int \alpha' dt = \alpha't + C
\tag{6}\]</span></span></p>
<p>where <span class="math inline">\(C\)</span> called a constant of integration that must be determined by initial conditions for this problem, namely the value <span class="math inline">\(A(t=0)\)</span> and we used the fact that <span class="math inline">\(\int a dx = ax + C\)</span> where <span class="math inline">\(a\)</span> is any constant and <span class="math inline">\(x\)</span> is any dynamic variable. The integral on the left hand side can be integrated formally, i.e., without using a computer, but it’s significantly more complicated. After integrating the left hand side of <a href="#eq-dA-integration" class="quarto-xref">Equation&nbsp;6</a> it is still necessary to solve for <span class="math inline">\(A\)</span> in terms of <span class="math inline">\(t\)</span>. See <a href="#nte-continuous-LA" class="quarto-xref">Note&nbsp;1</a> for these details.</p>
<p>After all that math we obtain the <em>logistic equation</em>,</p>
<p><span id="eq-logistic-LA"><span class="math display">\[
A(t) = \frac{N}{1 + \frac{N}{A_0}e^{-\alpha N t}},
\tag{7}\]</span></span></p>
<p>where <span class="math inline">\(A_0 = A(t = 0)\)</span> is the initial condition.</p>
<p>Britton (2003) explains in Ch. 3, p.&nbsp;87, this is the same equation as single-species population dynamics in an ecosystem with a carrying capacity, <span class="math inline">\(K\)</span>. In this case, <span class="math inline">\(K = N\)</span>. See Britton Ch. 3 for even more detail on the family of compartmental susceptible-infected-recovered models that we have adapted for sustainable adaptations in the context of the field of mathematical biology.</p>
<div id="nte-continuous-LA" class="callout callout-style-default callout-note callout-titled" title="Integration and solution of $A(t)$ from LA differential equations model">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note&nbsp;1: Integration and solution of <span class="math inline">\(A(t)\)</span> from LA differential equations model
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Perform partial fraction decomposition on <span class="math inline">\(\frac{1}{A (N - A)}\)</span>: <span class="math display">\[
\frac{1}{A (N - A)} = \frac{1}{N} \left( \frac{1}{A} + \frac{1}{N - A} \right).
\]</span></p>
<p>Integrate both sides: <span class="math display">\[
\int \frac{1}{N} \left( \frac{1}{A} + \frac{1}{N - A} \right) dA = \int \alpha \, dt.
\]</span></p>
<p>This yields: <span class="math display">\[
\frac{1}{N} \left( \ln|A| - \ln|N - A| \right) = \alpha t + C,
\]</span> where<span class="math inline">\(C\)</span>is the integration constant.</p>
<p>Simplify: <span class="math display">\[
\ln\left(\frac{A}{N - A}\right) = \alpha N t + C',
\]</span> where <span class="math inline">\(C' =  N C\)</span>.</p>
<p>Exponentiate to solve for<span class="math inline">\(A\)</span>: <span class="math display">\[
\frac{A}{N - A} = e^{\alpha N t + C'}.
\]</span></p>
<p>Rearranging gives: <span class="math display">\[
A = \frac{N}{1 + e^{-C' - \alpha N t}}.
\]</span></p>
<p>Finally, rewrite <span class="math inline">\(e^{-C'}\)</span> as a constant <span class="math inline">\(K\)</span>: <span id="eq-logistic"><span class="math display">\[
A = \frac{N}{1 + K e^{-\alpha N t}},
\tag{8}\]</span></span></p>
<p>where <span class="math inline">\(K\)</span> depends on the initial conditions.</p>
<p>This is the solution for <span class="math inline">\(A(t)\)</span>, and <span class="math inline">\(L(t)\)</span> can be recovered using <span class="math inline">\(L(t) = N - A(t)\)</span>.</p>
<p>To find <span class="math inline">\(K\)</span> for some initial condition, set <span class="math inline">\(t=0\)</span>, call <span class="math inline">\(A_0 = A(t=0)\)</span>, and solve for <span class="math inline">\(K\)</span>. Note that when <span class="math inline">\(t=0\)</span>, the denominator in Equation <a href="#eq-logistic" class="quarto-xref">Equation&nbsp;8</a> becomes <span class="math inline">\(1 + K\)</span> since <span class="math inline">\(e^0 = 1\)</span>. Then we have</p>
<p><span class="math display">\[
A(0) = \frac{N}{1 + K}
\]</span></p>
<p>which we can multiply by <span class="math inline">\(1 + K\)</span> on both sides and rearrange to get</p>
<p><span class="math display">\[
K = \frac{N}{A_0}.
\]</span></p>
</div>
</div>
</div>
</section>
<section id="legacy-adaptive-legacy-lal-model" class="level3">
<h3 class="anchored" data-anchor-id="legacy-adaptive-legacy-lal-model">Legacy-Adaptive-Legacy (LAL) model</h3>
<div id="fig-LAL-state" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-LAL-state-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/LAL.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="441">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-LAL-state-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: The Legacy-Adaptive-Legacy model also allows for transitions from the state <span class="math inline">\(A\)</span> to state <span class="math inline">\(L\)</span>, which occurs with probability <span class="math inline">\(\delta\)</span>.
</figcaption>
</figure>
</div>
<p>When considering the total change in <span class="math inline">\(A,\)</span> written <span class="math inline">\(\Delta A,\)</span> following a discrete time step, <span class="math inline">\(\Delta t\)</span>, from time “now” to time “next”, i.e., from <span class="math inline">\(t\)</span> to <span class="math inline">\(t+1\)</span>, we can drop the indices since all indices are <span class="math inline">\(t\)</span>, i.e.,</p>
<p><span id="eq-deltaA"><span class="math display">\[
\Delta A = \alpha A (1 - \frac{A}{N}) - \delta A.
\tag{9}\]</span></span></p>
<p>In this model, two new things are possible that were not possible before. First, the adaptation may completely fail to spread. If more people end up dropping the behavior than adopting it early on, there will be no one doing <span class="math inline">\(A\)</span> that someone doing <span class="math inline">\(L\)</span> could copy. Second, in general, everyone will <em>not</em> eventually adopt <span class="math inline">\(A\)</span>, at least not all at once, unlike in the LA model. In the LAL model there is an equilibrium <span class="math inline">\(A\)</span>, <span class="math inline">\(\hat A\)</span>, that the system reaches with enough time.</p>
<section id="will-the-adaptation-spread" class="level4">
<h4 class="anchored" data-anchor-id="will-the-adaptation-spread">Will the adaptation spread?</h4>
<p>We want to know if the adaptation will diffuse throughout the population in the LA model given just the adoption rate <span class="math inline">\(\alpha\)</span> and drop rate <span class="math inline">\(\delta\)</span>. Formally, the adaptation diffuses if <span class="math inline">\(\Delta A &gt; 0\)</span>. We can approximate <span class="math inline">\(\Delta A\)</span> just after its introduction to a population that is mostly doing the legacy behavior and obtain a useful heuristic value to tell use if it will diffuse. When the adaptive behavior is only just being introduced to a relatively large population, we we say that <span class="math inline">\(A &lt;&lt; L,N\)</span>, and so <span class="math inline">\(1 - \frac{A}{N} \approx 0\)</span>, so that <a href="#eq-deltaA" class="quarto-xref">Equation&nbsp;9</a> becomes</p>
<p><span class="math display">\[
\Delta A = \alpha A - \delta A &gt; 0.
\]</span></p>
<p>Dividing out <span class="math inline">\(A\)</span>, rearranging, and dividing by <span class="math inline">\(\delta\)</span>, we find that the adaptation diffuses if</p>
<p><span class="math display">\[
R_0 = \frac{\alpha}{\delta} &gt; 1,
\]</span></p>
<p>where <span class="math inline">\(R_0\)</span> is a rather famous measure called the <em>basic reproduction number</em> in epidemiology that predicts whether a new disease will become endemic or not. For us it predicts whether a sustainable adaptation will diffuse and persist in a population.</p>
</section>
<section id="if-an-adaptation-persists-what-will-the-long-term-adoption-level-be" class="level4">
<h4 class="anchored" data-anchor-id="if-an-adaptation-persists-what-will-the-long-term-adoption-level-be">If an adaptation persists, what will the long-term adoption level be?</h4>
<p>To know how many people will perform the adaptive behavior after the diffusion of that behavior has stabilized, we need to calculate its <em>equilibrium value</em>. Assuming <span class="math inline">\(R_0 &gt; 1\)</span>, the equilibrium number of adopters, <span class="math inline">\(\hat A\)</span>, is defined as the value of <span class="math inline">\(A\)</span> for which <span class="math inline">\(\Delta A = 0\)</span>, i.e., when <span class="math inline">\(A\)</span> remains constant over time:</p>
<p><span class="math display">\[
\Delta A = 0 = \alpha \hat A\left(1 - \frac{\hat A}{N}\right) - \delta
\hat A.
\]</span></p>
<p>This can be re-arranged to find that</p>
<p><span class="math display">\[
\frac{\hat A}{N} = 1 - \frac{\delta}{\alpha}.
\]</span></p>
<p>See <em>MSB</em> pp.&nbsp;96-97 for the steps and Figure 4.9 on p.&nbsp;97 for a plot of <span class="math inline">\(\Delta A\)</span> versus <span class="math inline">\(A\)</span> that illustrates and explains how to find <span class="math inline">\(\hat A\)</span> graphically (<em>MSB</em> uses the epidemiological framing, which means <span class="math inline">\(I\)</span> replaces <span class="math inline">\(A\)</span>.</p>
</section>
</section>
</section>
</section>
<section id="agent-based-modeling" class="level1">
<h1>Agent-based modeling</h1>
<p>Together, these define an agent-based model:</p>
<ol type="1">
<li>Environmental and ecological factors, including the payoff from doing Legacy and Adaptive behaviors, which could change over time.</li>
<li>The <em>agents</em>, which are simulated people in the case of human social science.</li>
<li>Social processes:
<ol type="1">
<li>Partner selection</li>
<li><em>Dyadic</em> interaction</li>
</ol></li>
<li>Non-social, individual-level behavior change (e.g.&nbsp;in LAL agents drop the adaptation with probability <span class="math inline">\(\delta\)</span>)</li>
</ol>
<p>These steps were implicitly present in the recursion and differential equation versions of the LA and LAL models, as reviewed in the Introduction in these notes. In agent-based models we explicitly define code functions that do each of these steps, if the model calls for it.</p>
<p>To do agent-based modeling, we will use code currently located in the <code>socmod.R</code> file in the root directory of the ProblemSets project repository. This approach combines object-oriented programming, characterized by explicit representations of classes of entities that define attributes and capacities of the entities, with functional programming, characterized by providing functions as arguments to other functions for describing the processes that occur within and between agents and their environment.</p>
<p>We define an <code>AgentBasedModel</code> class, which is a structured way to define and store information about agents and their social networks and different model parameters specified by the <code>params</code> attribute of <code>AgentBasedModel</code>.</p>
<p>Let’s initialize and run a simple toy <code>AgentBasedModel</code> to see the different parts so they are more familiar when we use them to make the agent-based LA model in Problem Set 2. We will create agents who switch between Legacy and Adaptive behaviors randomly at each time step, initialized with half of the agents doing the adaptive behavior (and therefore half doing legacy).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Source the agent-based modeling code from socmod.R in root ProblemSets</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># directory. Since this is in the CSS4S/notes directory for the course website</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># I need to use a different path. Use `socmod_path` for the problem set.</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>socmod_path <span class="ot">&lt;-</span> <span class="st">"~/workspace/CSS4S-ProblemSets/socmod.R"</span> <span class="co"># &lt;-- comment this out for your problem set </span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># socmod_path &lt;- "../socmod.R" </span><span class="al">###</span><span class="co"> &lt;-- Use this one for your Problem Set</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(socmod_path)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define our fake model where nothing happens except agents randomly match up, but then just adopt </span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co"># either behavior randomly.</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>N <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list of ten initial behaviors, five of each in </span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co"># random order to be used to create </span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>behaviors <span class="ot">&lt;-</span> </span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>(</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"Legacy"</span>, <span class="fu">as.integer</span>(N<span class="sc">/</span><span class="dv">2</span>)),</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="st">"Adaptive"</span>, <span class="fu">as.integer</span>(N<span class="sc">/</span><span class="dv">2</span>)))</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the agents with the randomized behaviors from previous step.</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>agents <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(purrr<span class="sc">::</span><span class="fu">map</span>(behaviors, \(b) Agent<span class="sc">$</span><span class="fu">new</span>(b)))</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Define random partner selection from agent's neighbors.</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>partner_selection <span class="ot">&lt;-</span> <span class="cf">function</span>(agent, model) {</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (<span class="fu">sample</span>(agent<span class="sc">$</span>neighbors, <span class="dv">1</span>))</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>interaction <span class="ot">&lt;-</span> <span class="cf">function</span>(agent1, agent2, model) {</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Not really an "interaction" for this toy model, just random behavior adoption.</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>  agent1<span class="sc">$</span>prev_behavior <span class="ot">&lt;-</span> agent1<span class="sc">$</span>curr_behavior</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">runif</span>(<span class="dv">1</span>) <span class="sc">&lt;</span> model<span class="sc">$</span>params<span class="sc">$</span>switch_prob) {</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    b_new <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Legacy"</span>, <span class="st">"Adaptive"</span>), <span class="dv">1</span>)</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>    agent1<span class="sc">$</span>curr_behavior <span class="ot">&lt;-</span> b_new</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> AgentBasedModel<span class="sc">$</span><span class="fu">new</span>(<span class="at">agents =</span> agents, <span class="at">network =</span> <span class="fu">regular_lattice</span>(N, <span class="dv">4</span>), </span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>                             <span class="at">switch_prob =</span> <span class="fl">0.1</span>)</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">run</span>(model, partner_selection, interaction, model_step_default, <span class="dv">20</span>)</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(out, <span class="fu">aes</span>(<span class="at">x=</span>t, <span class="at">y=</span>A)) <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I hypothesize that if <code>switch_prob</code> is greater, the adoption curve will be more variable over time. To test this hypothesis, let’s create another time series, but with an even higher <code>switch_prob</code> and compare the two. First, we’ll add a <code>switch_prob</code> column to our output dataframe from before:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename the output from before with a switch_prob of 0.1...</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>out_p1 <span class="ot">&lt;-</span> out</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ...and add a `switch_prob` column as a factor since we'll use it to color our graphs later.</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>out_p1<span class="sc">$</span>switch_prob <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(model<span class="sc">$</span>params<span class="sc">$</span>switch_prob)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Now create a new set of agents initialized with the same randomized behaviors.</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>agents <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(purrr<span class="sc">::</span><span class="fu">map</span>(behaviors, \(b) Agent<span class="sc">$</span><span class="fu">new</span>(b)))</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Use them to create a new model with a higher switch_prob.</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>model_p9 <span class="ot">&lt;-</span> AgentBasedModel<span class="sc">$</span><span class="fu">new</span>(<span class="at">agents =</span> agents, <span class="at">network =</span> <span class="fu">regular_lattice</span>(N, <span class="dv">4</span>), </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">switch_prob =</span> <span class="fl">0.9</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co"># partner_selection and interaction work as before, and we still use the default model_step</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>out_p9 <span class="ot">&lt;-</span> <span class="fu">run</span>(model_p9, partner_selection, interaction, model_step_default, <span class="dv">20</span>)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a `switch_prob` column to out_p9...</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>out_p9<span class="sc">$</span>switch_prob <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fl">0.9</span>)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="co"># ...and concatenate the two tibbles:</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>out_full <span class="ot">&lt;-</span> <span class="fu">rbind</span>(out_p1, out_p9)</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(out_full, <span class="fu">aes</span>(<span class="at">x=</span>t, <span class="at">y=</span>A, <span class="at">color=</span>switch_prob)) <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Maybe it is more variable, but it is hard to tell from comparing just two outputs.</p>
</section>
<section id="adaptive-social-learning" class="level1">
<h1>Adaptive social learning</h1>
<p>There are many ways people (or other critters with culture) use social or environmental cues to decide who to learn from, known as <em>social learning strategies</em> <span class="citation" data-cites="Kendal2018">(<a href="#ref-Kendal2018" role="doc-biblioref"><strong>Kendal2018?</strong></a>)</span>. We will consider the effects of two such social learning strategies in this course, <em>conformity-biased learning</em> and <em>success-biased learning</em>. As before we focus on the discrete-time case, but we will also point towards more advanced resources for using continuous-time to formally calculate helpful heuristic values for understanding asymptotic dynamics.</p>
<section id="conformity-biased-learning" class="level2">
<h2 class="anchored" data-anchor-id="conformity-biased-learning">Conformity-biased learning</h2>
</section>
<section id="success-biased-learning" class="level2">
<h2 class="anchored" data-anchor-id="success-biased-learning">Success-biased learning</h2>
</section>
</section>
<section id="cooperation-and-coordination" class="level1">
<h1>Cooperation and coordination</h1>
</section>
<section id="opinion-dynamics" class="level1">
<h1>Opinion dynamics</h1>
<section id="references" class="level2">




</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Cox2010" class="csl-entry" role="listitem">
Cox, Michael, Gwen Arnold, and Sergio Villamayor Tomás. 2010. <span>“<span class="nocase">A review of design principles for community-based natural resource management</span>.”</span> <em>Ecology and Society</em> 15 (4). <a href="https://doi.org/10.5751/ES-03704-150438">https://doi.org/10.5751/ES-03704-150438</a>.
</div>
<div id="ref-Jackson2008" class="csl-entry" role="listitem">
Jackson, Matthew O. 2008. <em><span class="nocase">Social and Economic Networks</span></em>. Princeton: Princeton University Press. <a href="https://press.princeton.edu/books/paperback/9780691148205/social-and-economic-networks">https://press.princeton.edu/books/paperback/9780691148205/social-and-economic-networks</a>.
</div>
<div id="ref-McNamara2020" class="csl-entry" role="listitem">
McNamara, Karen E., Rachel Clissold, Ross Westoby, Annah E. Piggott-McKellar, Roselyn Kumar, Tahlia Clarke, Frances Namoumou, et al. 2020. <span>“<span class="nocase">An assessment of community-based adaptation initiatives in the Pacific Islands</span>.”</span> <em>Nature Climate Change</em> 10 (7): 628–39. <a href="https://doi.org/10.1038/s41558-020-0813-1">https://doi.org/10.1038/s41558-020-0813-1</a>.
</div>
<div id="ref-Nalau2018" class="csl-entry" role="listitem">
Nalau, Johanna, Susanne Becken, Johanna Schliephack, Meg Parsons, Cilla Brown, and Brendan Mackey. 2018. <span>“<span class="nocase">The role of indigenous and traditional knowledge in ecosystem-based adaptation: A review of the literature and case studies from the Pacific Islands</span>.”</span> <em>Weather, Climate, and Society</em> 10 (4): 851–65. <a href="https://doi.org/10.1175/WCAS-D-18-0032.1">https://doi.org/10.1175/WCAS-D-18-0032.1</a>.
</div>
<div id="ref-Pearson2020" class="csl-entry" role="listitem">
Pearson, Jasmine, Karen E. McNamara, and Patrick D. Nunn. 2020. <em><span class="nocase">iTaukei Ways of Knowing and Managing Mangroves for Ecosystem-Based Adaptation</span></em>. Springer International Publishing. <a href="https://doi.org/10.1007/978-3-030-40552-6_6">https://doi.org/10.1007/978-3-030-40552-6_6</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>